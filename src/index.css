@import 'tailwindcss';

@theme {
  --color-neon-blue: #00f2ff;
  --color-neon-purple: #bc13fe;
  --color-bg-dark: #050505;
  --color-card-bg: rgba(15, 15, 15, 0.8);
  --color-text-main: #e0e0e0;
  --color-text-dim: #94a3b8;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Roboto Mono', monospace;

  /* Retain original glow effects config */
  --shadow-neon-blue-glow: 0 0 10px rgba(0, 242, 255, 0.5);
  --shadow-neon-blue-box: 0 0 20px rgba(0, 242, 255, 0.15);
  --shadow-neon-blue-link: 0 0 15px var(--color-neon-blue);
  --shadow-neon-blue-dot: 0 0 10px var(--color-neon-blue);
}

@layer base {
  * {
    @apply cursor-crosshair;
  }

  a,
  button {
    @apply cursor-pointer;
  }

  body {
    @apply bg-bg-dark text-text-main font-sans overflow-x-hidden;
  }

  /* Tech background: Grid & Scanlines */
  body::before {
    content: '';
    @apply fixed inset-0 w-full h-full -z-10 pointer-events-none;
    background-image:
      linear-gradient(rgba(0, 242, 255, 0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 242, 255, 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  body::after {
    content: '';
    @apply fixed left-0 top-0 w-full h-0.5 opacity-10 -z-10 bg-linear-to-r from-transparent via-neon-blue to-transparent;
    animation: scan 8s linear infinite;
  }

  @keyframes scan {
    0% {
      top: -10%;
    }

    100% {
      top: 110%;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    body::after {
      animation: none;
    }
  }

  h1,
  h2,
  h3 {
    @apply font-mono uppercase tracking-[2px];
  }
}

@layer components {
  /* 赛博朋克风格卡片：背景、边框、四角装饰、悬停效果 */
  .neon-card {
    @apply bg-card-bg backdrop-blur-md border border-neon-blue/10 rounded relative overflow-hidden
           transition-all duration-300
           hover:border-neon-blue hover:-translate-y-0.5;
    &:hover {
      box-shadow: var(--shadow-neon-blue-box);
    }
    &::before {
      content: '';
      @apply absolute top-0 left-0 w-3.75 h-3.75 border-t-2 border-l-2 border-neon-blue;
    }
    &::after {
      content: '';
      @apply absolute bottom-0 right-0 w-3.75 h-3.75 border-b-2 border-r-2 border-neon-purple;
    }
  }
}

@layer utilities {
  /* 霓虹蓝发光效果 */
  .neon-glow {
    filter: drop-shadow(0 0 10px rgba(0, 242, 255, 0.5));
  }

  /* Scrollbar override */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: var(--color-bg-dark);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-neon-blue);
    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
  }
}

@media print {
  @page {
    margin: 5mm;
    size: A4;
  }

  /* Remap all theme color tokens to print-safe values.
     Tailwind v4 utilities resolve via var(), so overriding the tokens here
     is more reliable than fighting specificity with color:black !important. */
  :root {
    --color-neon-blue: #000000;
    --color-neon-purple: #333333;
    --color-text-main: #111111;
    --color-text-dim: #444444;
    --color-bg-dark: #ffffff;
    --color-card-bg: transparent;
  }

  * {
    text-shadow: none !important;
    box-shadow: none !important;
    filter: none !important;
  }

  body {
    background: white !important;
  }

  body::before,
  body::after {
    display: none !important;
  }

  /* neon-card 的 overflow:hidden 在跨页时会裁剪内容，打印时重置 */
  .neon-card {
    overflow: visible !important;
    backdrop-filter: none !important;
  }

  /* Make sure max width is 100% for printing */
  .max-w-275 {
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* useHoverScan injects a beam div hidden via scaleX(0).
     transform:none !important would reveal it, so explicitly hide it. */
  [data-hover-beam] {
    display: none !important;
  }

  /* Reset GSAP inline styles: elements frozen in initial state (opacity:0,
     transform, filter) must be forced visible. !important overrides inline styles. */
  * {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
  }
}
